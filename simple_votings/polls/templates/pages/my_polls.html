{% extends 'base.html' %}

{% block content %}

<style>
    .rounded-table {
        border-collapse: separate;
        border-spacing: 0;
        border-radius: 1.25rem;
        overflow: hidden;
    }
</style>

<div class="container mt-4" style="margin-bottom: 80px;">
    <table class="table table-dark table-striped table-hover rounded-table">
        <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Title</th>
            <th scope="col">Author</th>
            <th scope="col">Time Posted</th>
            <th scope="col">Vote</th>
        </tr>
        </thead>
        <tbody>
        {% for poll in polls %}
        <tr>
            <td>{{ poll.id }}</td>
            <td><a class="text-white" href="{% url 'view_poll' poll.id %}" style="text-decoration: none;">
                {{ poll.question }}</a></td>
            <td>{{ poll.author.username }}</td>
            <td>{{ poll.time }}</td>
            <td>
                {% if user.is_authenticated %}
                <a href="{% url 'vote' poll.id %}">
                    <button class="btn btn-outline-success ms-2 me-2" type="button">Vote</button>
                    {% else %}
                    <button class="btn btn-outline-success ms-2 me-2 disabled" type="button">Vote</button>
                    {% endif %}
                </a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}